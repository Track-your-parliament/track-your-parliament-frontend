{"version":3,"sources":["Tag.js","PaginationControllers.js","../node_modules/@material-ui/icons/ArrowBackIos.js","../node_modules/@material-ui/icons/ArrowForwardIos.js","PerDayTimeline.js"],"names":["useStyles","makeStyles","theme","chip","props","margin","spacing","fontSize","size","height","borderRadius","paddingLeft","paddingRight","Tag","text","classes","history","useHistory","label","className","onClick","e","push","window","scrollTo","top","behavior","root","display","flexDirection","justifyContent","button","buttonIconLeft","marginRight","buttonIconRight","marginLeft","paginate","data","page","perPage","slice","PaginationControllers","setPage","dataSize","variant","color","buttonIconRigth","_interopRequireDefault","Object","defineProperty","exports","value","default","_react","_default","createElement","d","timeline","minHeight","background","palette","common","black","timelineElement","padding","time","primary","PerDayTimeline","params","location","useLocation","queryParams","URLSearchParams","search","useMemo","yearParam","get","monthParam","filter","item","DateTime","fromSQL","date","year","Number","month","filterDataWithUrl","initialData","useState","animate","layout","map","key","toISODate","contentStyle","timelineStyles","content","contentArrowStyle","arrow","iconStyle","icon","iconOnClick","position","toFormat","keywords_list","keyword","i","shortid","generate","length"],"mappings":"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","file":"static/js/5.e4b1cd1a.chunk.js","sourcesContent":["import React from 'react'\nimport { Chip, makeStyles } from '@material-ui/core'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n  chip: props => ({\n    margin: theme.spacing(1),\n    fontSize: props.size * 0.05 + 1 + 'rem',\n    height: props.size * 0.1 + 1.2 + 'rem',\n    borderRadius: props.size * 0.05 + 1 + 'rem',\n    paddingLeft: props.size * 0.01 + 'rem',\n    paddingRight: props.size * 0.01 + 'rem',\n  }),\n}))\n\nconst Tag = ({ text, size }) => {\n  const classes = useStyles({ size })\n  const history = useHistory()\n\n  const handleClick = e => {\n    history.push('/proposal?search=' + text)\n    window.scrollTo({ top: 0, behavior: 'smooth' })\n  }\n\n  return <Chip label={text} className={classes.chip} onClick={handleClick} />\n}\n\nTag.propTypes = {}\n\nexport default Tag\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { Button } from '@material-ui/core'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBackIos'\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForwardIos'\n\nconst useStyles = makeStyles(theme => {\n  return {\n    root: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'center',\n    },\n    button: {\n      margin: theme.spacing(1),\n    },\n    buttonIconLeft: {\n      marginRight: theme.spacing(1),\n    },\n    buttonIconRight: {\n      marginLeft: theme.spacing(1),\n    },\n  }\n})\n\nexport const paginate = (data, page, perPage) => {\n  return data.slice(page * perPage, (page + 1) * perPage)\n}\n\nconst PaginationControllers = ({ page, setPage, perPage, dataSize }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      {page !== 0 && (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.button}\n          onClick={() => {\n            window.scrollTo({ top: 0, behavior: 'smooth' })\n            setPage(page - 1)\n          }}\n        >\n          <ArrowBackIcon className={classes.buttonIconLeft} />\n          Previous\n        </Button>\n      )}\n      {dataSize > (page + 1) * perPage && (\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.button}\n          onClick={() => {\n            window.scrollTo({ top: 0, behavior: 'smooth' })\n            setPage(page + 1)\n          }}\n        >\n          Next\n          <ArrowForwardIcon className={classes.buttonIconRigth} />\n        </Button>\n      )}\n    </div>\n  )\n}\n\nPaginationControllers.propTypes = {}\n\nexport default PaginationControllers\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), 'ArrowBackIos');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"\n}), 'ArrowForwardIos');\n\nexports.default = _default;","import React, { useMemo, useState } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  VerticalTimeline,\n  VerticalTimelineElement,\n} from 'react-vertical-timeline-component'\nimport { timelineStyles } from './theme'\nimport shortid from 'shortid'\nimport { DateTime } from 'luxon'\nimport Tag from './Tag'\nimport initialData from './data/top_keywords_by_day.json'\nimport PaginationControllers, { paginate } from './PaginationControllers'\n\nconst useStyles = makeStyles(theme => {\n  return {\n    root: {},\n    timeline: {\n      minHeight: '100%',\n      '&:before': {\n        background: theme.palette.common.black,\n      },\n    },\n    timelineElement: {\n      padding: 0,\n    },\n    time: {\n      color: theme.palette.text.primary,\n    },\n  }\n})\n\nconst filterDataWithUrl = (data, queryParams) => {\n  const yearParam = queryParams.get('year')\n  const monthParam = queryParams.get('month')\n\n  if (yearParam && monthParam) {\n    return data.filter(\n      item =>\n        DateTime.fromSQL(item.date).year === Number(yearParam) &&\n        DateTime.fromSQL(item.date).month === Number(monthParam)\n    )\n  }\n  return data\n}\n\nconst PerDayTimeline = params => {\n  const history = useHistory()\n  const location = useLocation()\n  const classes = useStyles()\n  const queryParams = new URLSearchParams(location.search)\n  const data = useMemo(() => filterDataWithUrl(initialData, queryParams), [\n    queryParams,\n  ])\n  const [page, setPage] = useState(0)\n  const [perPage] = useState(10)\n\n  const iconClickHandler = date => {\n    history.push('/proposal?date=' + date)\n  }\n\n  return (\n    <VerticalTimeline\n      animate={true}\n      layout=\"1-column\"\n      className={classes.timeline}\n    >\n      {paginate(data, page, perPage).map(item => (\n        <VerticalTimelineElement\n          key={DateTime.fromSQL(item.date).toISODate()}\n          className={classes.timelineElement}\n          contentStyle={timelineStyles.default.content}\n          contentArrowStyle={timelineStyles.default.arrow}\n          iconStyle={timelineStyles.default.icon}\n          iconOnClick={() =>\n            iconClickHandler(DateTime.fromSQL(item.date).toISODate())\n          }\n          position=\"right\"\n        >\n          <h3 className={classes.time}>\n            {DateTime.fromSQL(item.date).toFormat('DDD')}\n          </h3>\n\n          {item.keywords_list.map((keyword, i) => (\n            <Tag\n              key={\n                DateTime.fromSQL(item.date).toISODate() +\n                '_tag_' +\n                shortid.generate()\n              }\n              text={keyword}\n              size={item.keywords_list.length - i}\n            />\n          ))}\n          <br />\n        </VerticalTimelineElement>\n      ))}\n      <PaginationControllers\n        page={page}\n        setPage={setPage}\n        perPage={perPage}\n        dataSize={data.length}\n      />\n    </VerticalTimeline>\n  )\n}\n\nPerDayTimeline.propTypes = {}\n\nexport default PerDayTimeline\n"],"sourceRoot":""}